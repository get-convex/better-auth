---
title: Migrate to 0.9
description: Migrate to @convex-dev/better-auth@0.9
---

This release has just one breaking change, and it's subtle - the `onUpdate`
trigger now expects the new doc to be the second parameter, and the old doc to be
the third parameter.

```ts title="convex/auth.ts"
export const authComponent = createClient<DataModel>(components.betterAuth, {
  authFunctions,
  triggers: {
    user: {
      onUpdate: async (ctx, oldDoc, newDoc) => { // [!code --]
      onUpdate: async (ctx, newDoc, oldDoc) => { // [!code ++]
        // oldDoc can be left out of the signature if not needed
      },
    },
  },
});
```

## Upgrade

<div className="fd-steps">

  <div className="fd-step">
    ### Update the component

    Update Better Auth and the component.

    ```npm
    npm install @convex-dev/better-auth@latest better-auth@1.3.13 --save-exact
    ```

  </div>

  <div className="fd-step">

    ### Update triggers

    Any triggers using the `onUpdate` hook should be updated to expect the new
    doc as the second parameter, and the old doc as the third parameter.

    ```ts title="convex/auth.ts"
    export const authComponent = createClient<DataModel>(components.betterAuth, {
      authFunctions,
      triggers: {
        user: {
          onUpdate: async (ctx, oldDoc, newDoc) => { // [!code --]
          onUpdate: async (ctx, newDoc, oldDoc) => { // [!code ++]
            // oldDoc can be left out of the signature if not needed
          },
        },
      },
    });
    ```

  </div>

</div>
